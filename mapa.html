<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- ... (cabeçalho permanece o mesmo) ... -->
</head>
<body>
    <!-- ... (corpo permanece o mesmo) ... -->

    <script type="module">
        // Adicione isso no início do seu script
        window.onerror = function(message, source, lineno, colno, error) {
            console.error('Erro global capturado:', message, 'em', source, 'linha:', lineno);
            log(`Erro global: ${message}`);
            document.getElementById('errorMessage').style.display = 'block';
            document.getElementById('errorMessage').textContent = `Erro: ${message}. Por favor, recarregue a página.`;
        };

        // ... (resto do código permanece o mesmo) ...

        function initMap() {
            log('Iniciando o mapa');
            try {
                // ... (código de inicialização do mapa) ...
            } catch (error) {
                console.error('Erro ao inicializar o mapa:', error);
                log(`Erro ao inicializar o mapa: ${error.message}`);
                document.getElementById('errorMessage').style.display = 'block';
            }
        }

        // ... (resto do código permanece o mesmo) ...
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-pF2lRStLTN9Xw9aYQj962qdNFyUXI2E&callback=initMap" async defer></script>
</body>
</html>
